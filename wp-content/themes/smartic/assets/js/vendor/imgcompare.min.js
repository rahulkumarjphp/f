!function(C){C.fn.twentytwenty=function(g){return g=C.extend({default_offset_pct:.5,orientation:"horizontal",switch_before_label:!0,before_label:"Before",switch_after_label:!0,after_label:"After",no_overlay:!1,move_slider_on_hover:!1,move_with_handle_only:!0,click_to_move:!1,show_drag:!0,show_sep:!0,horbeforePos:"middle",horafterPos:"middle",verbeforePos:"center",verafterPos:"center"},g),this.each(function(){var t=g.default_offset_pct,f=C(this),p=g.orientation,e="vertical"===p?"down":"left",a="vertical"===p?"up":"right";f.wrap("<div class='smartic-twentytwenty-wrapper smartic-twentytwenty-"+p+"'></div>"),g.no_overlay?f.append("<div class='smartic-twentytwenty-overlay smartic-twentytwenty-hide'></div>"):f.append("<div class='smartic-twentytwenty-overlay smartic-twentytwenty-show'></div>");var v=f.find("img:first"),h=f.find("img:last");g.show_sep?f.append("<div class='smartic-twentytwenty-handle'></div>"):f.append("<div class='smartic-twentytwenty-handle smartic-twentytwenty-hide'></div>");var y=f.find(".smartic-twentytwenty-handle");y.append("<span class='smartic-twentytwenty-"+e+"-arrow'></span>"),y.append("<span class='smartic-twentytwenty-"+a+"-arrow'></span>"),f.addClass("smartic-twentytwenty-container"),v.addClass("smartic-twentytwenty-before"),h.addClass("smartic-twentytwenty-after"),g.show_drag||y.css("opacity","0");var s=f.find(".smartic-twentytwenty-overlay");if(g.switch_before_label){var n="<div class='smartic-twentytwenty-before-label smartic-twentytwenty-before-label-"+g.horbeforePos+" smartic-twentytwenty-before-label-"+g.verbeforePos+"'><span>"+g.before_label+"</span></div>";s.append(n)}if(g.switch_after_label){var r="<div class='smartic-twentytwenty-after-label  smartic-twentytwenty-after-label-"+g.horafterPos+" smartic-twentytwenty-after-label-"+g.verafterPos+"'><span>"+g.after_label+"</span></div>";s.append(r)}var i=function(e){var t,a,s,n,r=(t=e,{w:(a=v.width())+"px",h:(s=v.height())+"px",cw:t*a+"px",ch:t*s+"px"}),i=C(f).find(".smartic-twentytwenty-before-label"),l=C(f).find(".smartic-twentytwenty-after-label");if(y.css("vertical"===p?"top":"left","vertical"===p?r.ch:r.cw),"horizontal"===p){var o=void 0!==i.css("left")?parseInt(i.css("left").replace(/px/,"")):"",c=parseInt(i.outerWidth()),d=void 0!==l.css("left")?parseInt(l.css("left").replace(/px/,"")):"";(w=parseInt(y.css("left").replace(/px/,"")))<o+c?i.addClass("smartic-label-hidden"):i.removeClass("smartic-label-hidden"),d<w?l.addClass("smartic-label-hidden"):l.removeClass("smartic-label-hidden")}else{var w;o=parseInt(i.css("top").replace(/px/,"")),c=parseInt(i.outerHeight()),d=parseInt(l.css("top").replace(/px/,"")),(w=parseInt(y.css("top").replace(/px/,"")))<o+c?i.addClass("smartic-label-hidden"):i.removeClass("smartic-label-hidden"),d<w&&!(d<0)?l.addClass("smartic-label-hidden"):l.removeClass("smartic-label-hidden")}n=r,"vertical"===p?(v.css("clip","rect(0,"+n.w+","+n.ch+",0)"),h.css("clip","rect("+n.ch+","+n.w+","+n.h+",0)")):(v.css("clip","rect(0,"+n.cw+","+n.h+",0)"),h.css("clip","rect(0,"+n.w+","+n.h+","+n.cw+")")),f.css("height",n.h)},l=function(e,t){var a;return a="vertical"===p?(t-c)/w:(e-o)/d,0,1,Math.max(0,Math.min(1,a))};C(window).on("resize.twentytwenty",function(e){i(t)});var o=0,c=0,d=0,w=0,m=function(e){(e.distX>e.distY&&e.distX<-e.distY||e.distX<e.distY&&e.distX>-e.distY)&&"vertical"!==p?e.preventDefault():(e.distX<e.distY&&e.distX<-e.distY||e.distX>e.distY&&e.distX>-e.distY)&&"vertical"===p&&e.preventDefault(),f.addClass("active"),o=f.offset().left,c=f.offset().top,d=v.width(),w=v.height()},_=function(e){f.hasClass("active")&&(t=l(e.pageX,e.pageY),i(t))},b=function(){f.removeClass("active")},u=g.move_with_handle_only?y:f;u.on("movestart",m),u.on("move",_),u.on("moveend",b),g.move_slider_on_hover&&(f.on("mouseenter",m),f.on("mousemove",_),f.on("mouseleave",b)),y.on("touchmove",function(e){e.preventDefault()}),f.find("img").on("mousedown",function(e){e.preventDefault()}),g.click_to_move&&f.on("click",function(e){o=f.offset().left,c=f.offset().top,d=v.width(),w=v.height(),t=l(e.pageX,e.pageY),i(t)}),C(window).trigger("resize.twentytwenty")})}}(jQuery);